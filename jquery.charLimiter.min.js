;(function($,window,undefined){var pluginName="charLimiter",document=window.document,defaults={counterClass:"counter",generateCounter:false,insert:"after"};function Plugin(element,options){var e=this.element=element;var s=this.options=$.extend({maxChars:$(e).attr("maxlength")},defaults,options);this._defaults=defaults;this._name=pluginName;this.init(e,s)}Plugin.prototype.init=function(e,s){var maxChars=s.maxChars;if(s.generateCounter===true){var spCounter=$("<span>",{"class":s.counterClass,text:maxChars});
$(e).data("sp",spCounter)[s.insert](spCounter)}else $(e).each(function(){$("."+s.counterClass+'[data-counter-rel="'+$(this).data("counter-rel")+'"]').html(maxChars)});$(e).on("keypress change input",function(){var len=$(this).val().length;var remain=maxChars-len;if(len>maxChars){var val=$(this).val();$(this).val(val.substr(0,maxChars));remain=0}if(s.generateCounter===true)$(this).data("sp").html(remain);else $("."+s.counterClass+'[data-counter-rel="'+$(this).data("counter-rel")+'"]').html(remain)}).change()};
$.fn[pluginName]=function(options){return this.each(function(){if(!$.data(this,"plugin_"+pluginName))$.data(this,"plugin_"+pluginName,new Plugin(this,options))})}})(jQuery,window);